import{auth as i,db as t}from"./firebase-init.mjs";import{onAuthStateChanged as e,signOut as a}from"https://www.gstatic.com/firebasejs/12.3.0/firebase-auth.js";import{doc as o,getDoc as n}from"https://www.gstatic.com/firebasejs/12.3.0/firebase-firestore.js";window.firebaseDb=t,window.firebaseAuth=i,window.location.pathname.includes("/admin")&&e(i,(async e=>{if(e){await async function(i){if(!i)return!1;const e=o(t,"admins",i);return(await n(e)).exists()}(e.uid)||(alert("Access Denied. You are not an authorized admin."),await a(i),window.location.href="/login.html")}else window.location.href=`/login.html?redirect=${window.location.pathname}`}));
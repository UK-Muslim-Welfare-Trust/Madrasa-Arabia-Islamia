import{initializeApp as e}from"https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";import{getAuth as a,GoogleAuthProvider as i,signInWithPopup as t,onAuthStateChanged as s,signOut as o,signInAnonymously as r}from"https://www.gstatic.com/firebasejs/12.3.0/firebase-auth.js";import{getFirestore as n,doc as w,getDoc as c}from"https://www.gstatic.com/firebasejs/12.3.0/firebase-firestore.js";import{getAnalytics as m}from"https://www.gstatic.com/firebasejs/12.3.0/firebase-analytics.js";const f=e({apiKey:"AIzaSyDuq7jYQcKDKY3UWNxQwP51fKRwjCERuvo",authDomain:"wakefield-central-mosque.firebaseapp.com",projectId:"wakefield-central-mosque",storageBucket:"wakefield-central-mosque.appspot.com",messagingSenderId:"998395111777",appId:"1:998395111777:web:5492302e7279822d5cbd20",measurementId:"G-NXER4ENDE0"}),d=a(f),p=n(f);m(f),new i;window.firebaseAuth=d,window.firebaseDb=p;window.location.pathname.includes("/admin")&&s(d,(async e=>{if(e){await async function(e){if(!e)return!1;const a=w(p,"admins",e);return(await c(a)).exists()}(e.uid)||(alert("Access Denied. You are not an authorized admin."),await o(d),window.location.href="/login.html")}else window.location.href=`/login.html?redirect=${window.location.pathname}`}));
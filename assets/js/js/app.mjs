import{requestNotificationPermission as e,scheduleJamaatNotifications as t}from"./notifications.mjs";var o;document.addEventListener("DOMContentLoaded",(()=>{let o;"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js").then((e=>{console.log("ServiceWorker registration successful with scope: ",e.scope)})).catch((e=>{console.log("ServiceWorker registration failed: ",e)}))}));const s=document.getElementById("install-button");window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),o=e,s&&(s.style.display="block")})),s&&s.addEventListener("click",(e=>{s.style.display="none",o&&(o.prompt(),o.userChoice.then((e=>{"accepted"===e.outcome?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),o=null})))}));const n=document.getElementById("jamaat-notifications-toggle");n&&n.addEventListener("change",(()=>{n.checked?(localStorage.setItem("jamaatNotificationsEnabled","true"),e().then((e=>{e?t():(n.checked=!1,localStorage.setItem("jamaatNotificationsEnabled","false"))}))):localStorage.setItem("jamaatNotificationsEnabled","false")})),e(),"true"===localStorage.getItem("jamaatNotificationsEnabled")&&(n&&(n.checked=!0),t())})),o=jQuery,setTimeout((function(){o("#spinner").length>0&&o("#spinner").removeClass("show")}),1),(new WOW).init(),o(window).scroll((function(){o(this).scrollTop()>300?o(".sticky-top").addClass("shadow-sm").css("top","0px"):o(".sticky-top").removeClass("shadow-sm").css("top","-150px")})),o(window).scroll((function(){o(this).scrollTop()>100?o(".back-to-top").fadeIn("slow"):o(".back-to-top").fadeOut("slow")})),o(".back-to-top").click((function(){return o("html, body").animate({scrollTop:0},1500,"easeInOutExpo"),!1}));
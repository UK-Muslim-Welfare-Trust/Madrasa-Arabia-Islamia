import{auth as e}from"./firebase-init.mjs";import{GoogleAuthProvider as o,signInWithPopup as n}from"https://www.gstatic.com/firebasejs/12.3.0/firebase-auth.js";document.addEventListener("DOMContentLoaded",(()=>{(()=>{const t=document.getElementById("google-signin-btn");if(!t)return void console.log("Google Sign-In button not found on this page.");const r=new o;t.addEventListener("click",(()=>{console.log("Google Sign-In button clicked."),n(e,r).then((e=>{o.credentialFromResult(e).accessToken;const n=e.user;console.log("Successfully signed in with Google:",n.displayName);const t=new URLSearchParams(window.location.search).get("redirect");t?(console.log(`Redirecting to: ${decodeURIComponent(t)}`),window.location.href=decodeURIComponent(t)):(console.log("No redirect URL found, redirecting to admin homepage."),window.location.href="/admin/admin.html")})).catch((e=>{const n=e.code,t=e.message,r=e.customData?e.customData.email:"N/A",i=o.credentialFromError(e);console.error("Google Sign-In Error:",{errorCode:n,errorMessage:t,email:r,credential:i}),alert(`An error occurred during sign-in: ${t}`)}))}))})()}));